name: Web Deploy to GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch:\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    timeout-minutes: 30\n\n    permissions:\n      contents: read\n      pages: write\n      id-token: write\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v3\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: 18.x\n\n      - name: Setup pnpm\n        uses: pnpm/action-setup@v2\n        with:\n          version: 8\n\n      - name: Get pnpm store directory\n        id: pnpm-cache\n        shell: bash\n        run: |\n          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n\n      - name: Setup pnpm cache\n        uses: actions/cache@v3\n        with:\n          path: ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n          key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}\n          restore-keys: |\n            ${{ runner.os }}-pnpm-store-\n\n      - name: Install dependencies\n        run: pnpm install --frozen-lockfile\n\n      - name: Build web version\n        run: pnpm exec expo export --platform web --output-dir web-build\n        env:\n          NODE_ENV: production\n\n      - name: Create index.html for web\n        run: |\n          cat > web-build/index.html << 'EOF'\n          <!DOCTYPE html>\n          <html lang=\"ko\">\n          <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>ì„¤í™” ì •ë¹„ì†Œ - Mythic Workshop</title>\n            <meta name=\"description\" content=\"ê·€ì—½ê³  ê°€ë²¼ìš´ í•˜ì´ë¸Œë¦¬ë“œ ìºì£¼ì–¼ ê²Œì„\">\n            <style>\n              * {\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n              }\n              body {\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                min-height: 100vh;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                padding: 20px;\n              }\n              .container {\n                background: white;\n                border-radius: 20px;\n                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n                max-width: 600px;\n                width: 100%;\n                padding: 40px;\n                text-align: center;\n              }\n              h1 {\n                color: #333;\n                margin-bottom: 10px;\n                font-size: 32px;\n              }\n              .subtitle {\n                color: #666;\n                margin-bottom: 30px;\n                font-size: 16px;\n              }\n              .emoji {\n                font-size: 60px;\n                margin-bottom: 20px;\n              }\n              .features {\n                text-align: left;\n                margin: 30px 0;\n                padding: 20px;\n                background: #f5f5f5;\n                border-radius: 10px;\n              }\n              .feature {\n                margin: 10px 0;\n                color: #555;\n                font-size: 14px;\n              }\n              .feature::before {\n                content: \"âœ“ \";\n                color: #4CAF50;\n                font-weight: bold;\n                margin-right: 8px;\n              }\n              .stats {\n                display: grid;\n                grid-template-columns: repeat(2, 1fr);\n                gap: 20px;\n                margin: 30px 0;\n              }\n              .stat {\n                padding: 15px;\n                background: #f0f0f0;\n                border-radius: 10px;\n              }\n              .stat-number {\n                font-size: 24px;\n                font-weight: bold;\n                color: #667eea;\n              }\n              .stat-label {\n                font-size: 12px;\n                color: #999;\n                margin-top: 5px;\n              }\n              .buttons {\n                display: flex;\n                gap: 10px;\n                margin-top: 30px;\n                flex-wrap: wrap;\n              }\n              .btn {\n                flex: 1;\n                min-width: 120px;\n                padding: 12px 20px;\n                border: none;\n                border-radius: 8px;\n                font-size: 14px;\n                font-weight: 600;\n                cursor: pointer;\n                transition: all 0.3s ease;\n              }\n              .btn-primary {\n                background: #667eea;\n                color: white;\n              }\n              .btn-primary:hover {\n                background: #5568d3;\n                transform: translateY(-2px);\n                box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\n              }\n              .btn-secondary {\n                background: #f0f0f0;\n                color: #333;\n              }\n              .btn-secondary:hover {\n                background: #e0e0e0;\n              }\n              .info {\n                margin-top: 30px;\n                padding-top: 20px;\n                border-top: 1px solid #eee;\n                font-size: 12px;\n                color: #999;\n              }\n              .version {\n                display: inline-block;\n                background: #e8f5e9;\n                color: #2e7d32;\n                padding: 4px 8px;\n                border-radius: 4px;\n                margin-top: 10px;\n              }\n            </style>\n          </head>\n          <body>\n            <div class=\"container\">\n              <div class=\"emoji\">ğŸ›ï¸</div>\n              <h1>ì„¤í™” ì •ë¹„ì†Œ</h1>\n              <p class=\"subtitle\">Mythic Workshop - ê·€ì—½ê³  ê°€ë²¼ìš´ í•˜ì´ë¸Œë¦¬ë“œ ìºì£¼ì–¼ ê²Œì„</p>\n              \n              <div class=\"stats\">\n                <div class=\"stat\">\n                  <div class=\"stat-number\">150</div>\n                  <div class=\"stat-label\">ìŠ¤í…Œì´ì§€</div>\n                </div>\n                <div class=\"stat\">\n                  <div class=\"stat-number\">20+</div>\n                  <div class=\"stat-label\">ë™ë£Œ ìºë¦­í„°</div>\n                </div>\n                <div class=\"stat\">\n                  <div class=\"stat-number\">12</div>\n                  <div class=\"stat-label\">ìŠ¤í”„ë¦°íŠ¸</div>\n                </div>\n                <div class=\"stat\">\n                  <div class=\"stat-number\">v1.0</div>\n                  <div class=\"stat-label\">ë²„ì „</div>\n                </div>\n              </div>\n\n              <div class=\"features\">\n                <div class=\"feature\">ìë™ ì „íˆ¬ + ì„±ì¥ ì‹œìŠ¤í…œ</div>\n                <div class=\"feature\">ë™ë£Œ ìˆ˜ì§‘ ë° ì‹œë„ˆì§€</div>\n                <div class=\"feature\">ì¼ì¼ ë¯¸ì…˜ ë° ì—…ì </div>\n                <div class=\"feature\">UGC ì‹œë‚˜ë¦¬ì˜¤ (ì •ë¹„ ì˜ë¢°)</div>\n                <div class=\"feature\">ì¹œêµ¬ ë° ë­í‚¹ ì‹œìŠ¤í…œ</div>\n                <div class=\"feature\">í•œêµ­ì–´/ì˜ì–´ ì§€ì›</div>\n              </div>\n\n              <div class=\"buttons\">\n                <button class=\"btn btn-primary\" onclick=\"window.open('https://github.com/khy1121/Snowflake', '_blank')\">GitHub ë³´ê¸°</button>\n                <button class=\"btn btn-secondary\" onclick=\"window.open('https://github.com/khy1121/Snowflake/releases', '_blank')\">ë¦´ë¦¬ì¦ˆ</button>\n              </div>\n\n              <div class=\"info\">\n                <p>ğŸ“± <strong>ëª¨ë°”ì¼ ì•± ë‹¤ìš´ë¡œë“œ:</strong></p>\n                <p>Android: Google Play Storeì—ì„œ \"ì„¤í™” ì •ë¹„ì†Œ\" ê²€ìƒ‰</p>\n                <p style=\"margin-top: 10px;\">ğŸ”— <strong>ê°œë°œ ì •ë³´:</strong></p>\n                <p>React Native + Expo + Skia</p>\n                <div class=\"version\">v1.0.0 - Sprint 12 ì™„ë£Œ</div>\n              </div>\n            </div>\n          </body>\n          </html>\n          EOF\n\n      - name: Setup Pages\n        uses: actions/configure-pages@v3\n\n      - name: Upload artifact\n        uses: actions/upload-pages-artifact@v2\n        with:\n          path: 'web-build'\n\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v2\n\n      - name: Print deployment info\n        run: |\n          echo \"âœ… Web deployment completed!\"\n          echo \"ğŸ“ URL: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}\"\n          echo \"ğŸ“¦ Build output: web-build/\"\n          echo \"â±ï¸  Deployment time: $(date)\"\n
