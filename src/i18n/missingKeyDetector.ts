/**\n * i18n ëˆ„ë½ í‚¤ íƒì§€ ë° ê²½ê³  ì‹œìŠ¤í…œ\n * Sprint 12: í•˜ë“œì½”ë”© í…ìŠ¤íŠ¸ íƒì§€, ëˆ„ë½ í‚¤ ë¦¬í¬íŠ¸\n */\n\nimport { koTranslations } from './ko';\nimport { enTranslations } from './en';\n\nexport interface MissingKeyReport {\n  missingInKo: string[];\n  missingInEn: string[];\n  unusedInKo: string[];\n  unusedInEn: string[];\n  hardcodedTexts: string[];\n  timestamp: number;\n}\n\n/**\n * ê¸°ë³¸ ë²ˆì—­ í‚¤ ëª©ë¡ (ëª¨ë“  í™”ë©´ì—ì„œ í•„ìš”í•œ í‚¤)\n */\nconst REQUIRED_KEYS = [\n  // ê³µí†µ\n  'common.ok',\n  'common.cancel',\n  'common.close',\n  'common.confirm',\n  'common.error',\n  'common.loading',\n  'common.retry',\n  'common.back',\n  'common.next',\n  'common.skip',\n  'common.save',\n  'common.delete',\n  'common.edit',\n  'common.add',\n  'common.remove',\n  'common.settings',\n  'common.help',\n  'common.about',\n  'common.language',\n  'common.version',\n\n  // Home í™”ë©´\n  'home.title',\n  'home.stage',\n  'home.gold',\n  'home.fragments',\n  'home.startBattle',\n  'home.upgrade',\n  'home.collection',\n  'home.quests',\n  'home.achievements',\n  'home.settings',\n  'home.offlineReward',\n  'home.claimOfflineReward',\n\n  // Battle í™”ë©´\n  'battle.title',\n  'battle.playerHp',\n  'battle.enemyHp',\n  'battle.damage',\n  'battle.victory',\n  'battle.defeat',\n  'battle.goldReward',\n  'battle.fragmentReward',\n  'battle.nextStage',\n  'battle.retry',\n\n  // Upgrade í™”ë©´\n  'upgrade.title',\n  'upgrade.atk',\n  'upgrade.hp',\n  'upgrade.attackSpeed',\n  'upgrade.critChance',\n  'upgrade.critDamage',\n  'upgrade.offlineEfficiency',\n  'upgrade.cost',\n  'upgrade.effect',\n  'upgrade.purchase',\n  'upgrade.maxLevel',\n\n  // Settings\n  'settings.title',\n  'settings.language',\n  'settings.sound',\n  'settings.notifications',\n  'settings.accessibility',\n  'settings.privacy',\n  'settings.dataReset',\n  'settings.cloudBackup',\n  'settings.about',\n  'settings.version',\n  'settings.privacyPolicy',\n  'settings.communityGuidelines',\n\n  // Privacy & Policy\n  'privacy.title',\n  'privacy.description',\n  'privacy.dataCollection',\n  'privacy.dataUsage',\n  'privacy.dataDelete',\n  'privacy.contact',\n\n  'community.title',\n  'community.guidelines',\n  'community.prohibited',\n  'community.report',\n  'community.reportSuccess',\n\n  // Quests\n  'quest.title',\n  'quest.daily',\n  'quest.progress',\n  'quest.reward',\n  'quest.claim',\n  'quest.completed',\n  'quest.resetTime',\n\n  // Achievements\n  'achievement.title',\n  'achievement.locked',\n  'achievement.unlocked',\n  'achievement.claim',\n  'achievement.claimed',\n\n  // Companions\n  'companion.title',\n  'companion.unlock',\n  'companion.level',\n  'companion.buff',\n  'companion.synergy',\n  'companion.customize',\n  'companion.nickname',\n  'companion.aura',\n  'companion.color',\n\n  // Decor\n  'decor.title',\n  'decor.purchase',\n  'decor.place',\n  'decor.remove',\n  'decor.preset',\n  'decor.save',\n  'decor.load',\n  'decor.delete',\n  'decor.rename',\n\n  // Modes\n  'mode.nightRepair',\n  'mode.infiltration',\n  'mode.description',\n  'mode.reward',\n  'mode.difficulty',\n\n  // Events\n  'event.title',\n  'event.active',\n  'event.ended',\n  'event.upcoming',\n  'event.participate',\n  'event.reward',\n\n  // Pass\n  'pass.title',\n  'pass.free',\n  'pass.premium',\n  'pass.level',\n  'pass.reward',\n  'pass.claim',\n  'pass.unlock',\n  'pass.purchase',\n\n  // Shop\n  'shop.title',\n  'shop.cosmetics',\n  'shop.tokens',\n  'shop.pass',\n  'shop.buy',\n  'shop.price',\n  'shop.owned',\n  'shop.equipped',\n\n  // UGC\n  'ugc.title',\n  'ugc.create',\n  'ugc.import',\n  'ugc.export',\n  'ugc.play',\n  'ugc.library',\n  'ugc.share',\n  'ugc.report',\n  'ugc.reportReason',\n  'ugc.reportSuccess',\n\n  // Social\n  'social.title',\n  'social.friends',\n  'social.group',\n  'social.leaderboard',\n  'social.addFriend',\n  'social.friendCode',\n  'social.ranking',\n  'social.myRank',\n  'social.score',\n\n  // Errors\n  'error.networkError',\n  'error.saveFailed',\n  'error.loadFailed',\n  'error.insufficientGold',\n  'error.insufficientFragments',\n  'error.insufficientTokens',\n  'error.invalidInput',\n  'error.dataCorrupted',\n  'error.unknown',\n\n  // Success\n  'success.saved',\n  'success.purchased',\n  'success.upgraded',\n  'success.unlocked',\n  'success.completed',\n];\n\n/**\n * ë²ˆì—­ í‚¤ ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n */\nexport function checkMissingKeys(): MissingKeyReport {\n  const missingInKo: string[] = [];\n  const missingInEn: string[] = [];\n\n  // í•„ìˆ˜ í‚¤ í™•ì¸\n  REQUIRED_KEYS.forEach(key => {\n    const koValue = getNestedValue(koTranslations, key);\n    const enValue = getNestedValue(enTranslations, key);\n\n    if (!koValue) missingInKo.push(key);\n    if (!enValue) missingInEn.push(key);\n  });\n\n  // ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í‚¤ ì°¾ê¸°\n  const unusedInKo = findUnusedKeys(koTranslations, REQUIRED_KEYS);\n  const unusedInEn = findUnusedKeys(enTranslations, REQUIRED_KEYS);\n\n  return {\n    missingInKo,\n    missingInEn,\n    unusedInKo,\n    unusedInEn,\n    hardcodedTexts: [], // ëŸ°íƒ€ì„ì—ì„œ ê°ì§€\n    timestamp: Date.now(),\n  };\n}\n\n/**\n * ì¤‘ì²©ëœ ê°ì²´ì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°\n */\nfunction getNestedValue(obj: any, path: string): any {\n  return path.split('.').reduce((current, prop) => current?.[prop], obj);\n}\n\n/**\n * ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í‚¤ ì°¾ê¸°\n */\nfunction findUnusedKeys(translations: any, usedKeys: string[]): string[] {\n  const allKeys = flattenKeys(translations);\n  return allKeys.filter(key => !usedKeys.includes(key));\n}\n\n/**\n * ì¤‘ì²©ëœ ê°ì²´ì˜ ëª¨ë“  í‚¤ í‰íƒ„í™”\n */\nfunction flattenKeys(obj: any, prefix = ''): string[] {\n  const keys: string[] = [];\n\n  Object.entries(obj).forEach(([key, value]) => {\n    const fullKey = prefix ? `${prefix}.${key}` : key;\n\n    if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n      keys.push(...flattenKeys(value, fullKey));\n    } else if (typeof value === 'string') {\n      keys.push(fullKey);\n    }\n  });\n\n  return keys;\n}\n\n/**\n * ëˆ„ë½ í‚¤ ë¦¬í¬íŠ¸ ì¶œë ¥\n */\nexport function printMissingKeyReport(report: MissingKeyReport): void {\n  console.warn('ğŸ”´ i18n Missing Key Report');\n  console.warn('================================');\n\n  if (report.missingInKo.length > 0) {\n    console.warn(`âŒ Missing in Korean (${report.missingInKo.length}):`);\n    report.missingInKo.forEach(key => console.warn(`   - ${key}`));\n  }\n\n  if (report.missingInEn.length > 0) {\n    console.warn(`âŒ Missing in English (${report.missingInEn.length}):`);\n    report.missingInEn.forEach(key => console.warn(`   - ${key}`));\n  }\n\n  if (report.unusedInKo.length > 0) {\n    console.warn(`âš ï¸  Unused in Korean (${report.unusedInKo.length}):`);\n    report.unusedInKo.slice(0, 5).forEach(key => console.warn(`   - ${key}`));\n    if (report.unusedInKo.length > 5) {\n      console.warn(`   ... and ${report.unusedInKo.length - 5} more`);\n    }\n  }\n\n  if (report.unusedInEn.length > 0) {\n    console.warn(`âš ï¸  Unused in English (${report.unusedInEn.length}):`);\n    report.unusedInEn.slice(0, 5).forEach(key => console.warn(`   - ${key}`));\n    if (report.unusedInEn.length > 5) {\n      console.warn(`   ... and ${report.unusedInEn.length - 5} more`);\n    }\n  }\n\n  console.warn('================================');\n}\n\n/**\n * ê°œë°œ ëª¨ë“œì—ì„œ ëˆ„ë½ í‚¤ ìë™ ê°ì§€\n */\nexport function enableMissingKeyDetection(): void {\n  if (__DEV__) {\n    const report = checkMissingKeys();\n    if (\n      report.missingInKo.length > 0 ||\n      report.missingInEn.length > 0 ||\n      report.unusedInKo.length > 0 ||\n      report.unusedInEn.length > 0\n    ) {\n      printMissingKeyReport(report);\n    }\n  }\n}\n\n/**\n * ëŸ°íƒ€ì„ í•˜ë“œì½”ë”© í…ìŠ¤íŠ¸ ê°ì§€ (ì„ íƒì )\n * íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©\n */\nexport function detectHardcodedText(text: string, componentName: string): void {\n  if (__DEV__) {\n    // ì¼ë°˜ì ì¸ í•˜ë“œì½”ë”© í…ìŠ¤íŠ¸ íŒ¨í„´ ê°ì§€\n    const suspiciousPatterns = [\n      /^[A-Z][a-z]+ [A-Z]/,  // \"Start Battle\" ê°™ì€ íŒ¨í„´\n      /^[ê°€-í£]{2,}$/,       // í•œê¸€ 2ê¸€ì ì´ìƒ\n    ];\n\n    if (suspiciousPatterns.some(pattern => pattern.test(text))) {\n      console.warn(\n        `âš ï¸  Possible hardcoded text in ${componentName}: \"${text}\"`\n      );\n    }\n  }\n}\n\n/**\n * ë²ˆì—­ í‚¤ ìƒì„± ë„êµ¬ (ê°œë°œìš©)\n */\nexport function generateMissingKeyTemplate(missingKeys: string[]): string {\n  let template = '// Add these keys to your translation files:\\n\\n';\n\n  missingKeys.forEach(key => {\n    const parts = key.split('.');\n    template += `// ${key}\\n`;\n  });\n\n  return template;\n}\n
