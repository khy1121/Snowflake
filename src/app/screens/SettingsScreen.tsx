/**\n * Settings 화면: Privacy/Community/Data Reset\n * Sprint 12: 글로벌 출시 정책 준수\n */\n\nimport React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  Switch,\n  TouchableOpacity,\n  Alert,\n  StyleSheet,\n} from 'react-native';\nimport { useStore } from '../store';\nimport { t } from '../i18n';\n\ninterface SettingsScreenProps {\n  navigation: any;\n}\n\nconst SettingsScreen: React.FC<SettingsScreenProps> = ({ navigation }) => {\n  const store = useStore();\n  const [language, setLanguage] = useState<'ko' | 'en'>(store.language);\n  const [notificationsEnabled, setNotificationsEnabled] = useState(\n    store.settings.notificationsEnabled\n  );\n  const [soundEnabled, setSoundEnabled] = useState(store.settings.soundEnabled);\n  const [dataCollectionConsent, setDataCollectionConsent] = useState(\n    store.settings.dataCollectionConsent\n  );\n\n  const handleLanguageChange = (newLang: 'ko' | 'en') => {\n    setLanguage(newLang);\n    store.updateSettings({ language: newLang });\n  };\n\n  const handleNotificationsToggle = (value: boolean) => {\n    setNotificationsEnabled(value);\n    store.updateSettings({ notificationsEnabled: value });\n  };\n\n  const handleSoundToggle = (value: boolean) => {\n    setSoundEnabled(value);\n    store.updateSettings({ soundEnabled: value });\n  };\n\n  const handleDataCollectionToggle = (value: boolean) => {\n    setDataCollectionConsent(value);\n    store.updateSettings({ dataCollectionConsent: value });\n  };\n\n  const handleViewPrivacyPolicy = () => {\n    navigation.navigate('PrivacyPolicyScreen');\n  };\n\n  const handleViewCommunityGuidelines = () => {\n    navigation.navigate('CommunityGuidelinesScreen');\n  };\n\n  const handleResetLocalData = () => {\n    Alert.alert(\n      t('settings.dataReset'),\n      t('settings.dataResetWarning'),\n      [\n        {\n          text: t('common.cancel'),\n          onPress: () => {},\n          style: 'cancel',\n        },\n        {\n          text: t('common.confirm'),\n          onPress: () => {\n            store.resetLocalData();\n            Alert.alert(\n              t('success.completed'),\n              t('settings.dataResetSuccess')\n            );\n            navigation.navigate('HomeScreen');\n          },\n          style: 'destructive',\n        },\n      ]\n    );\n  };\n\n  const handleDeleteCloudBackup = () => {\n    Alert.alert(\n      t('settings.cloudBackup'),\n      t('settings.cloudBackupDeleteWarning'),\n      [\n        {\n          text: t('common.cancel'),\n          onPress: () => {},\n          style: 'cancel',\n        },\n        {\n          text: t('common.confirm'),\n          onPress: () => {\n            store.deleteCloudBackup();\n            Alert.alert(\n              t('success.completed'),\n              t('settings.cloudBackupDeleteSuccess')\n            );\n          },\n          style: 'destructive',\n        },\n      ]\n    );\n  };\n\n  const handleExportBackupCode = () => {\n    const backupCode = store.generateBackupCode();\n    Alert.alert(\n      t('settings.cloudBackup'),\n      `${t('settings.backupCodeGenerated')}\\n\\n${backupCode}`,\n      [\n        {\n          text: t('common.close'),\n          onPress: () => {},\n        },\n      ]\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      {/* 언어 설정 */}\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{t('common.language')}</Text>\n        <View style={styles.languageButtons}>\n          <TouchableOpacity\n            style={[\n              styles.languageButton,\n              language === 'ko' && styles.languageButtonActive,\n            ]}\n            onPress={() => handleLanguageChange('ko')}\n          >\n            <Text\n              style={[\n                styles.languageButtonText,\n                language === 'ko' && styles.languageButtonTextActive,\n              ]}\n            >\n              한국어\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[\n              styles.languageButton,\n              language === 'en' && styles.languageButtonActive,\n            ]}\n            onPress={() => handleLanguageChange('en')}\n          >\n            <Text\n              style={[\n                styles.languageButtonText,\n                language === 'en' && styles.languageButtonTextActive,\n              ]}\n            >\n              English\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* 알림 설정 */}\n      <View style={styles.section}>\n        <View style={styles.settingRow}>\n          <Text style={styles.settingLabel}>{t('settings.notifications')}</Text>\n          <Switch\n            value={notificationsEnabled}\n            onValueChange={handleNotificationsToggle}\n          />\n        </View>\n      </View>\n\n      {/* 음소거 설정 */}\n      <View style={styles.section}>\n        <View style={styles.settingRow}>\n          <Text style={styles.settingLabel}>{t('settings.sound')}</Text>\n          <Switch value={soundEnabled} onValueChange={handleSoundToggle} />\n        </View>\n      </View>\n\n      {/* 데이터 수집 동의 */}\n      <View style={styles.section}>\n        <View style={styles.settingRow}>\n          <Text style={styles.settingLabel}>\n            {t('settings.dataCollection')}\n          </Text>\n          <Switch\n            value={dataCollectionConsent}\n            onValueChange={handleDataCollectionToggle}\n          />\n        </View>\n        <Text style={styles.settingDescription}>\n          {t('settings.dataCollectionDescription')}\n        </Text>\n      </View>\n\n      {/* 정책 및 가이드라인 */}\n      <View style={styles.section}>\n        <TouchableOpacity\n          style={styles.policyButton}\n          onPress={handleViewPrivacyPolicy}\n        >\n          <Text style={styles.policyButtonText}>\n            {t('settings.privacyPolicy')}\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.policyButton}\n          onPress={handleViewCommunityGuidelines}\n        >\n          <Text style={styles.policyButtonText}>\n            {t('settings.communityGuidelines')}\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* 클라우드 백업 */}\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{t('settings.cloudBackup')}</Text>\n        <TouchableOpacity\n          style={styles.actionButton}\n          onPress={handleExportBackupCode}\n        >\n          <Text style={styles.actionButtonText}>\n            {t('settings.generateBackupCode')}\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.actionButton, styles.dangerButton]}\n          onPress={handleDeleteCloudBackup}\n        >\n          <Text style={styles.actionButtonText}>\n            {t('settings.deleteCloudBackup')}\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* 데이터 초기화 */}\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{t('settings.dataReset')}</Text>\n        <Text style={styles.warningText}>\n          {t('settings.dataResetWarning')}\n        </Text>\n        <TouchableOpacity\n          style={[styles.actionButton, styles.dangerButton]}\n          onPress={handleResetLocalData}\n        >\n          <Text style={styles.actionButtonText}>\n            {t('settings.resetLocalData')}\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* 앱 정보 */}\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{t('settings.about')}</Text>\n        <View style={styles.infoRow}>\n          <Text style={styles.infoLabel}>{t('common.version')}</Text>\n          <Text style={styles.infoValue}>1.0.0</Text>\n        </View>\n        <View style={styles.infoRow}>\n          <Text style={styles.infoLabel}>Build</Text>\n          <Text style={styles.infoValue}>1</Text>\n        </View>\n      </View>\n\n      {/* 문의 */}\n      <View style={styles.section}>\n        <Text style={styles.contactText}>\n          {t('settings.contactSupport')}: support@example.com\n        </Text>\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    padding: 16,\n  },\n  section: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    color: '#333',\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  settingLabel: {\n    fontSize: 14,\n    color: '#333',\n  },\n  settingDescription: {\n    fontSize: 12,\n    color: '#999',\n    marginTop: 8,\n  },\n  languageButtons: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  languageButton: {\n    flex: 1,\n    paddingVertical: 10,\n    paddingHorizontal: 12,\n    borderRadius: 6,\n    backgroundColor: '#f0f0f0',\n    alignItems: 'center',\n  },\n  languageButtonActive: {\n    backgroundColor: '#4CAF50',\n  },\n  languageButtonText: {\n    fontSize: 12,\n    color: '#666',\n  },\n  languageButtonTextActive: {\n    color: '#fff',\n    fontWeight: 'bold',\n  },\n  policyButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 12,\n    backgroundColor: '#f0f0f0',\n    borderRadius: 6,\n    marginBottom: 8,\n  },\n  policyButtonText: {\n    fontSize: 14,\n    color: '#2196F3',\n    fontWeight: '500',\n  },\n  actionButton: {\n    paddingVertical: 12,\n    paddingHorizontal: 12,\n    backgroundColor: '#4CAF50',\n    borderRadius: 6,\n    marginBottom: 8,\n    alignItems: 'center',\n  },\n  dangerButton: {\n    backgroundColor: '#f44336',\n  },\n  actionButtonText: {\n    fontSize: 14,\n    color: '#fff',\n    fontWeight: '500',\n  },\n  warningText: {\n    fontSize: 12,\n    color: '#f44336',\n    marginBottom: 12,\n  },\n  infoRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: '#f0f0f0',\n  },\n  infoLabel: {\n    fontSize: 14,\n    color: '#666',\n  },\n  infoValue: {\n    fontSize: 14,\n    color: '#333',\n    fontWeight: '500',\n  },\n  contactText: {\n    fontSize: 12,\n    color: '#999',\n    textAlign: 'center',\n  },\n});\n\nexport default SettingsScreen;\n
