/**\n * ë””ë²„ê·¸ íŒ¨ë„ (ê°œë°œ ì „ìš©)\n * ì¬í™” ì¶”ê°€, ìŠ¤í…Œì´ì§€ ì í”„, íŠœí† ë¦¬ì–¼ ë¦¬ì…‹ ë“±\n */\n\nimport React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  TextInput,\n  Modal,\n  SafeAreaView,\n} from 'react-native';\nimport { colors, spacing, typography, borderRadius } from '@/features/ui/theme';\nimport { Button } from '@/features/ui/Button';\nimport { logger } from '@/utils/logger';\n\ninterface DebugPanelProps {\n  visible: boolean;\n  onClose: () => void;\n  onAddGold: (amount: number) => void;\n  onAddFragments: (amount: number) => void;\n  onAddCosmeticTokens: (amount: number) => void;\n  onJumpStage: (stageId: number) => void;\n  onResetTutorial: () => void;\n  onResetSave: () => void;\n  onRefreshRemoteConfig: () => void;\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n    justifyContent: 'flex-end',\n  },\n  container: {\n    backgroundColor: colors.surface,\n    borderTopLeftRadius: borderRadius.xl,\n    borderTopRightRadius: borderRadius.xl,\n    padding: spacing.lg,\n    maxHeight: '80%',\n  },\n  header: {\n    marginBottom: spacing.lg,\n  },\n  title: {\n    ...typography.h3,\n    color: colors.error,\n    marginBottom: spacing.sm,\n  },\n  subtitle: {\n    ...typography.small,\n    color: colors.textLight,\n  },\n  section: {\n    marginBottom: spacing.lg,\n    paddingBottom: spacing.lg,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.border,\n  },\n  sectionTitle: {\n    ...typography.small,\n    fontWeight: '600',\n    color: colors.primary,\n    marginBottom: spacing.md,\n  },\n  inputRow: {\n    flexDirection: 'row',\n    gap: spacing.md,\n    marginBottom: spacing.md,\n  },\n  input: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: colors.border,\n    borderRadius: borderRadius.md,\n    padding: spacing.sm,\n    ...typography.small,\n    color: colors.text,\n  },\n  buttonRow: {\n    gap: spacing.md,\n    marginBottom: spacing.md,\n  },\n  logContainer: {\n    backgroundColor: colors.background,\n    borderRadius: borderRadius.md,\n    padding: spacing.md,\n    maxHeight: 200,\n  },\n  logText: {\n    ...typography.small,\n    color: colors.textLight,\n    fontFamily: 'monospace',\n  },\n});\n\nexport const DebugPanel: React.FC<DebugPanelProps> = ({\n  visible,\n  onClose,\n  onAddGold,\n  onAddFragments,\n  onAddCosmeticTokens,\n  onJumpStage,\n  onResetTutorial,\n  onResetSave,\n  onRefreshRemoteConfig,\n}) => {\n  const [goldInput, setGoldInput] = useState('1000');\n  const [fragmentsInput, setFragmentsInput] = useState('100');\n  const [tokensInput, setTokensInput] = useState('500');\n  const [stageInput, setStageInput] = useState('10');\n  const [showLogs, setShowLogs] = useState(false);\n\n  const handleAddGold = () => {\n    const amount = parseInt(goldInput, 10);\n    if (!isNaN(amount)) {\n      onAddGold(amount);\n      logger.logEvent('DEBUG_ADD_GOLD', { amount });\n    }\n  };\n\n  const handleAddFragments = () => {\n    const amount = parseInt(fragmentsInput, 10);\n    if (!isNaN(amount)) {\n      onAddFragments(amount);\n      logger.logEvent('DEBUG_ADD_FRAGMENTS', { amount });\n    }\n  };\n\n  const handleAddTokens = () => {\n    const amount = parseInt(tokensInput, 10);\n    if (!isNaN(amount)) {\n      onAddCosmeticTokens(amount);\n      logger.logEvent('DEBUG_ADD_COSMETIC_TOKENS', { amount });\n    }\n  };\n\n  const handleJumpStage = () => {\n    const stageId = parseInt(stageInput, 10);\n    if (!isNaN(stageId)) {\n      onJumpStage(stageId);\n      logger.logEvent('DEBUG_JUMP_STAGE', { stageId });\n    }\n  };\n\n  const handleResetTutorial = () => {\n    onResetTutorial();\n    logger.logEvent('DEBUG_RESET_TUTORIAL');\n  };\n\n  const handleResetSave = () => {\n    if (confirm('ì •ë§ ëª¨ë“  ì €ì¥ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n      onResetSave();\n      logger.logEvent('DEBUG_RESET_SAVE');\n    }\n  };\n\n  const handleRefreshRemoteConfig = () => {\n    onRefreshRemoteConfig();\n    logger.logEvent('DEBUG_REFRESH_REMOTE_CONFIG');\n  };\n\n  const logs = logger.getLogs({ since: Date.now() - 60000 }); // ìµœê·¼ 1ë¶„\n\n  return (\n    <Modal visible={visible} transparent animationType=\"slide\">\n      <SafeAreaView style={styles.overlay}>\n        <View style={styles.container}>\n          <ScrollView>\n            {/* í—¤ë” */}\n            <View style={styles.header}>\n              <Text style={styles.title}>ğŸ”§ ë””ë²„ê·¸ íŒ¨ë„</Text>\n              <Text style={styles.subtitle}>\n                ê°œë°œ ì „ìš© - í”„ë¡œë•ì…˜ ë¹Œë“œì—ì„œëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤\n              </Text>\n            </View>\n\n            {/* ì¬í™” ì¶”ê°€ */}\n            <View style={styles.section}>\n              <Text style={styles.sectionTitle}>ì¬í™” ì¶”ê°€</Text>\n\n              <View style={styles.inputRow}>\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"ê³¨ë“œ\"\n                  value={goldInput}\n                  onChangeText={setGoldInput}\n                  keyboardType=\"number-pad\"\n                />\n                <Button title=\"ì¶”ê°€\" onPress={handleAddGold} variant=\"primary\" />\n              </View>\n\n              <View style={styles.inputRow}>\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"íŒŒí¸\"\n                  value={fragmentsInput}\n                  onChangeText={setFragmentsInput}\n                  keyboardType=\"number-pad\"\n                />\n                <Button\n                  title=\"ì¶”ê°€\"\n                  onPress={handleAddFragments}\n                  variant=\"primary\"\n                />\n              </View>\n\n              <View style={styles.inputRow}>\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"ì½”ìŠ¤íŠ¬ í† í°\"\n                  value={tokensInput}\n                  onChangeText={setTokensInput}\n                  keyboardType=\"number-pad\"\n                />\n                <Button\n                  title=\"ì¶”ê°€\"\n                  onPress={handleAddTokens}\n                  variant=\"primary\"\n                />\n              </View>\n            </View>\n\n            {/* ìŠ¤í…Œì´ì§€ ì í”„ */}\n            <View style={styles.section}>\n              <Text style={styles.sectionTitle}>ìŠ¤í…Œì´ì§€ ì í”„</Text>\n\n              <View style={styles.inputRow}>\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"ìŠ¤í…Œì´ì§€ ID\"\n                  value={stageInput}\n                  onChangeText={setStageInput}\n                  keyboardType=\"number-pad\"\n                />\n                <Button\n                  title=\"ì í”„\"\n                  onPress={handleJumpStage}\n                  variant=\"primary\"\n                />\n              </View>\n            </View>\n\n            {/* ë¦¬ì…‹ */}\n            <View style={styles.section}>\n              <Text style={styles.sectionTitle}>ë¦¬ì…‹</Text>\n\n              <View style={styles.buttonRow}>\n                <Button\n                  title=\"íŠœí† ë¦¬ì–¼ ë¦¬ì…‹\"\n                  onPress={handleResetTutorial}\n                  variant=\"secondary\"\n                />\n              </View>\n\n              <View style={styles.buttonRow}>\n                <Button\n                  title=\"ëª¨ë“  ë°ì´í„° ì´ˆê¸°í™”\"\n                  onPress={handleResetSave}\n                  variant=\"secondary\"\n                />\n              </View>\n            </View>\n\n            {/* ì›ê²© ì„¤ì • */}\n            <View style={styles.section}>\n              <Text style={styles.sectionTitle}>ì›ê²© ì„¤ì •</Text>\n\n              <View style={styles.buttonRow}>\n                <Button\n                  title=\"ì›ê²© ì„¤ì • ìƒˆë¡œê³ ì¹¨\"\n                  onPress={handleRefreshRemoteConfig}\n                  variant=\"primary\"\n                />\n              </View>\n            </View>\n\n            {/* ë¡œê·¸ */}\n            <View style={styles.section}>\n              <TouchableOpacity onPress={() => setShowLogs(!showLogs)}>\n                <Text style={styles.sectionTitle}>\n                  ğŸ“‹ ìµœê·¼ ë¡œê·¸ ({logs.length})\n                </Text>\n              </TouchableOpacity>\n\n              {showLogs && (\n                <ScrollView style={styles.logContainer}>\n                  {logs.map((log, index) => (\n                    <Text key={index} style={styles.logText}>\n                      [{log.level.toUpperCase()}] {log.tag}: {log.message}\n                    </Text>\n                  ))}\n                </ScrollView>\n              )}\n            </View>\n          </ScrollView>\n\n          {/* ë‹«ê¸° ë²„íŠ¼ */}\n          <Button title=\"ë‹«ê¸°\" onPress={onClose} variant=\"secondary\" />\n        </View>\n      </SafeAreaView>\n    </Modal>\n  );\n};\n
