/**\n * Debug/Operator ë©”ë‰´ ê°€ë“œ\n * Sprint 12: ë¦´ë¦¬ì¦ˆ í™˜ê²½ì—ì„œ ë¹„í™œì„±í™”, ê°œë°œ í™˜ê²½ì—ì„œë§Œ í™œì„±í™”\n */\n\nexport interface DebugConfig {\n  enabled: boolean;\n  environment: 'development' | 'staging' | 'production';\n  allowedBuildTypes: string[];\n  requiresPassword: boolean;\n  password?: string;\n}\n\nconst DEFAULT_DEBUG_CONFIG: DebugConfig = {\n  enabled: __DEV__,\n  environment: __DEV__ ? 'development' : 'production',\n  allowedBuildTypes: ['debug', 'staging'],\n  requiresPassword: !__DEV__,\n  password: undefined,\n};\n\n/**\n * Debug ë©”ë‰´ í™œì„±í™” ì—¬ë¶€ í™•ì¸\n */\nexport function isDebugMenuEnabled(): boolean {\n  if (!DEFAULT_DEBUG_CONFIG.enabled) {\n    return false;\n  }\n\n  // í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” í•­ìƒ ë¹„í™œì„±í™”\n  if (DEFAULT_DEBUG_CONFIG.environment === 'production') {\n    return false;\n  }\n\n  // ê°œë°œ/ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œëŠ” í™œì„±í™”\n  return true;\n}\n\n/**\n * Operator ë©”ë‰´ í™œì„±í™” ì—¬ë¶€ í™•ì¸\n * (ë” ì—„ê²©í•œ ì¡°ê±´)\n */\nexport function isOperatorMenuEnabled(): boolean {\n  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ í™œì„±í™”\n  if (DEFAULT_DEBUG_CONFIG.environment !== 'development') {\n    return false;\n  }\n\n  return DEFAULT_DEBUG_CONFIG.enabled;\n}\n\n/**\n * Debug ë©”ë‰´ ì ‘ê·¼ ê¶Œí•œ ê²€ì¦\n */\nexport function validateDebugAccess(providedPassword?: string): boolean {\n  if (!isDebugMenuEnabled()) {\n    return false;\n  }\n\n  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì•”í˜¸ ë¶ˆí•„ìš”\n  if (DEFAULT_DEBUG_CONFIG.environment === 'development') {\n    return true;\n  }\n\n  // ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œëŠ” ì•”í˜¸ í•„ìš”\n  if (DEFAULT_DEBUG_CONFIG.requiresPassword && DEFAULT_DEBUG_CONFIG.password) {\n    return providedPassword === DEFAULT_DEBUG_CONFIG.password;\n  }\n\n  return false;\n}\n\n/**\n * Operator ë©”ë‰´ ì ‘ê·¼ ê¶Œí•œ ê²€ì¦\n */\nexport function validateOperatorAccess(providedPassword: string): boolean {\n  if (!isOperatorMenuEnabled()) {\n    return false;\n  }\n\n  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥\n  if (DEFAULT_DEBUG_CONFIG.environment !== 'development') {\n    return false;\n  }\n\n  // ì•”í˜¸ ê²€ì¦ (ì„ íƒì )\n  if (DEFAULT_DEBUG_CONFIG.password) {\n    return providedPassword === DEFAULT_DEBUG_CONFIG.password;\n  }\n\n  return true;\n}\n\n/**\n * ë¯¼ê°í•œ ê¸°ëŠ¥ ì‹¤í–‰ ì „ ê²€ì¦\n * (ë°ì´í„° ì‚­ì œ, ìƒíƒœ ë³€ê²½ ë“±)\n */\nexport function validateSensitiveOperation(\n  operationType: 'dataReset' | 'stateChange' | 'remoteConfigUpdate'\n): boolean {\n  if (!isOperatorMenuEnabled()) {\n    return false;\n  }\n\n  // í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¯¼ê°í•œ ì‘ì—… ê¸ˆì§€\n  if (DEFAULT_DEBUG_CONFIG.environment === 'production') {\n    return false;\n  }\n\n  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ì‘ì—… í—ˆìš©\n  if (DEFAULT_DEBUG_CONFIG.environment === 'development') {\n    return true;\n  }\n\n  // ìŠ¤í…Œì´ì§•ì—ì„œëŠ” íŠ¹ì • ì‘ì—…ë§Œ í—ˆìš©\n  if (DEFAULT_DEBUG_CONFIG.environment === 'staging') {\n    // ë°ì´í„° ì‚­ì œëŠ” ê¸ˆì§€\n    if (operationType === 'dataReset') {\n      return false;\n    }\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * í™˜ê²½ ì •ë³´ ë¡œê¹…\n */\nexport function logDebugEnvironment(): void {\n  if (__DEV__) {\n    console.log('ğŸ”§ Debug Environment Info:');\n    console.log(`   Environment: ${DEFAULT_DEBUG_CONFIG.environment}`);\n    console.log(`   Debug Enabled: ${DEFAULT_DEBUG_CONFIG.enabled}`);\n    console.log(`   Operator Menu: ${isOperatorMenuEnabled()}`);\n    console.log(`   Requires Password: ${DEFAULT_DEBUG_CONFIG.requiresPassword}`);\n  }\n}\n\n/**\n * ë³´ì•ˆ ë¡œê·¸: ë¯¼ê°í•œ ì‘ì—… ê¸°ë¡\n */\nexport function logSecurityEvent(\n  eventType: string,\n  details: Record<string, any>\n): void {\n  const timestamp = new Date().toISOString();\n  const logEntry = {\n    timestamp,\n    eventType,\n    environment: DEFAULT_DEBUG_CONFIG.environment,\n    details,\n  };\n\n  if (__DEV__) {\n    console.warn('ğŸ”’ Security Event:', logEntry);\n  }\n\n  // í”„ë¡œë•ì…˜ì—ì„œëŠ” ì„œë²„ë¡œ ì „ì†¡ (êµ¬í˜„ í•„ìš”)\n  if (DEFAULT_DEBUG_CONFIG.environment === 'production') {\n    // sendToSecurityServer(logEntry);\n  }\n}\n\n/**\n * í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬\n */\nexport const DebugEnvironmentVariables = {\n  // ê°œë°œ í™˜ê²½ ì „ìš©\n  DEV_SKIP_TUTORIAL: __DEV__ ? true : false,\n  DEV_INSTANT_BATTLE: __DEV__ ? true : false,\n  DEV_UNLIMITED_GOLD: __DEV__ ? true : false,\n  DEV_UNLOCK_ALL_COMPANIONS: __DEV__ ? true : false,\n\n  // ìŠ¤í…Œì´ì§• í™˜ê²½\n  STAGING_MOCK_ANALYTICS: DEFAULT_DEBUG_CONFIG.environment === 'staging',\n  STAGING_MOCK_ADS: DEFAULT_DEBUG_CONFIG.environment === 'staging',\n\n  // ëª¨ë“  í™˜ê²½\n  ENABLE_CRASH_REPORTER: true,\n  ENABLE_ANALYTICS: true,\n};\n\n/**\n * ë¦´ë¦¬ì¦ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸\n */\nexport const ReleaseChecklist = {\n  // ë³´ì•ˆ\n  debugMenuDisabled: !isDebugMenuEnabled(),\n  operatorMenuDisabled: !isOperatorMenuEnabled(),\n  sensitiveOperationsBlocked: !validateSensitiveOperation('dataReset'),\n\n  // í™˜ê²½\n  correctEnvironment: DEFAULT_DEBUG_CONFIG.environment === 'production',\n  buildTypeCorrect: DEFAULT_DEBUG_CONFIG.allowedBuildTypes.includes('release'),\n\n  // ê¸°ëŠ¥\n  analyticsEnabled: DebugEnvironmentVariables.ENABLE_ANALYTICS,\n  crashReporterEnabled: DebugEnvironmentVariables.ENABLE_CRASH_REPORTER,\n\n  // ê²€ì¦\n  allChecksPassed: () => {\n    return (\n      ReleaseChecklist.debugMenuDisabled &&\n      ReleaseChecklist.operatorMenuDisabled &&\n      ReleaseChecklist.sensitiveOperationsBlocked &&\n      ReleaseChecklist.correctEnvironment &&\n      ReleaseChecklist.analyticsEnabled &&\n      ReleaseChecklist.crashReporterEnabled\n    );\n  },\n};\n\n/**\n * ë¦´ë¦¬ì¦ˆ ì „ ê²€ì¦\n */\nexport function validateReleaseReadiness(): { passed: boolean; issues: string[] } {\n  const issues: string[] = [];\n\n  if (!ReleaseChecklist.debugMenuDisabled) {\n    issues.push('âŒ Debug menu is still enabled');\n  }\n\n  if (!ReleaseChecklist.operatorMenuDisabled) {\n    issues.push('âŒ Operator menu is still enabled');\n  }\n\n  if (!ReleaseChecklist.sensitiveOperationsBlocked) {\n    issues.push('âŒ Sensitive operations are not blocked');\n  }\n\n  if (!ReleaseChecklist.correctEnvironment) {\n    issues.push('âŒ Environment is not set to production');\n  }\n\n  if (!ReleaseChecklist.analyticsEnabled) {\n    issues.push('âŒ Analytics is not enabled');\n  }\n\n  if (!ReleaseChecklist.crashReporterEnabled) {\n    issues.push('âŒ Crash reporter is not enabled');\n  }\n\n  return {\n    passed: issues.length === 0,\n    issues,\n  };\n}\n\n// ì•± ì‹œì‘ ì‹œ ê²€ì¦\nif (!__DEV__) {\n  const readiness = validateReleaseReadiness();\n  if (!readiness.passed) {\n    console.error('ğŸš¨ Release readiness check failed:');\n    readiness.issues.forEach(issue => console.error(issue));\n  }\n}\n
